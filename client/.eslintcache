[{"C:\\Users\\Legion\\Documents\\Code\\Sandbox\\jwt-app\\client\\src\\App.js":"1"},{"size":1873,"mtime":1606751808834,"results":"2","hashOfConfig":"3"},{"filePath":"4","messages":"5","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"6"},"3vm911","C:\\Users\\Legion\\Documents\\Code\\Sandbox\\jwt-app\\client\\src\\App.js",["7"],"import {useState, useEffect} from 'react';\nimport './App.css';\nimport axios from 'axios';\n\nfunction App() {\n  const [userData, setUserData] = useState([{name: 'bill', age: '12'}]);\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  const getData = (id) => {\n    axios.get('./api/posts/' + id)\n    .then((res) => {\n      console.log(res.data[0]);\n      setUserData([res.data[0]])\n    })\n    .catch((error) => {\n      console.error(\"meh \" + error)\n    })\n  }\n\n\n  const getId = (token) => {\n    axios.get('./api/posts', {\n      headers: {\n        'auth-token': token\n      }\n    })\n    .then((res) => {\n      getData(res.data._id);\n      console.log(res.data._id);\n    })\n    .catch((error) => {\n      console.error(\"Oh no \" + error)\n    })\n  }\n\n  const login = (e) => {\n    e.preventDefault();\n    const details = {\n      email: email,\n      password: password\n    }\n    axios.post('/api/user/login', details)\n    .then(function (response) {\n      getId(response.headers[\"auth-token\"]);\n    })\n  }\n  // setItem('token', response.headers.get('auth-token'));\n\n  const toggleView = () => {\n    // counter === true ? setCounter(false) : setCounter(true);\n    console.log(userData);  \n  }\n\n  return (\n    <div className=\"app\">\n        <form className=\"input-main\">\n          <input onChange={(e) => setEmail(e.target.value)} placeholder=\"email...\" name=\"email\" value={email}></input>\n          <input onChange={(e) => setPassword(e.target.value)} placeholder=\"password...\" name=\"password\" value={password}></input>\n          <button onClick={login} className=\"button\">Login</button>\n        </form>\n      <h1>User info:</h1>\n      <button onClick={toggleView}>View data</button>\n      {userData.map(item => \n        <div key={item._id}>\n          <p>{item.name}</p>\n        </div>\n        )\n      }\n    </div>\n  );\n}\n\nexport default App;\n",{"ruleId":"8","severity":1,"message":"9","line":1,"column":19,"nodeType":"10","messageId":"11","endLine":1,"endColumn":28},"no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar"]