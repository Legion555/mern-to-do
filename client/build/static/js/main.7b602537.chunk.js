(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{20:function(e,t,n){},21:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),s=n.n(c),i=n(14),r=n.n(i),o=(n(20),n(3)),l=(n(21),n(4)),u=n.n(l);var j=function(){var e=Object(c.useState)({}),t=Object(o.a)(e,2),n=t[0],s=t[1],i=Object(c.useState)(0),r=Object(o.a)(i,2),l=r[0],j=r[1],d=Object(c.useState)(""),h=Object(o.a)(d,2),b=h[0],O=h[1],g=Object(c.useState)(""),p=Object(o.a)(g,2),m=p[0],f=p[1],v=Object(c.useState)(""),x=Object(o.a)(v,2),k=x[0],N=x[1],C=Object(c.useState)(""),S=Object(o.a)(C,2),w=S[0],L=S[1],D=Object(c.useState)(""),I=Object(o.a)(D,2),T=I[0],_=I[1],y=Object(c.useState)(""),M=Object(o.a)(y,2),R=M[0],A=M[1],E=Object(c.useState)(""),J=Object(o.a)(E,2),P=J[0],B=J[1],G=Object(c.useState)(""),U=Object(o.a)(G,2),W=U[0],q=U[1];Object(c.useEffect)((function(){}),[n]);var z,F=function(e){u.a.get("./api/posts",{headers:{"auth-token":e}}).then((function(e){var t;t=e.data._id,u.a.get("./api/posts/"+t).then((function(e){console.log(e.data[0]),s(e.data[0])})).catch((function(e){console.error("meh "+e)})),console.log(e.data._id)})).catch((function(e){console.error("Oh no "+e)}))};return Object(a.jsxs)("div",{className:"app",children:[Object(a.jsxs)("div",{className:"auth-container",children:["loggedIn"!==b&&Object(a.jsxs)("div",{className:"auth-selector",children:[Object(a.jsx)("button",{onClick:function(){return O("login")},children:"Login"}),"registered"!==b&&Object(a.jsx)("button",{onClick:function(){return O("register")},children:"Register"}),"login"===b&&Object(a.jsx)("div",{className:"login-container",children:Object(a.jsxs)("form",{className:"input-main",children:[Object(a.jsx)("input",{onChange:function(e){return f(e.target.value)},placeholder:"email...",name:"email",value:m}),Object(a.jsx)("input",{onChange:function(e){return N(e.target.value)},placeholder:"password...",name:"password",value:k}),Object(a.jsx)("button",{onClick:function(e){e.preventDefault();var t={email:m,password:k};u.a.post("/api/user/login",t).then((function(e){F(e.headers["auth-token"]),O("loggedIn")}))},children:"Login"})]})}),"register"===b&&Object(a.jsx)("div",{className:"register-container",children:Object(a.jsxs)("form",{className:"input-main",children:[Object(a.jsx)("input",{onChange:function(e){return L(e.target.value)},placeholder:"name...",name:"name",value:w}),Object(a.jsx)("input",{onChange:function(e){return _(e.target.value)},placeholder:"email...",name:"email",value:T}),Object(a.jsx)("input",{onChange:function(e){return A(e.target.value)},placeholder:"password...",name:"password",value:R}),Object(a.jsx)("button",{onClick:function(e){e.preventDefault();var t={name:w,email:T,password:R};u.a.post("/api/user/register",t).then((function(e){O("registered")}))},children:"Register"})]})})]}),"loggedIn"===b&&Object(a.jsx)("div",{className:"loggedIn-container",children:Object(a.jsx)("p",{children:"Successfully logged in."})}),"registered"===b&&Object(a.jsx)("div",{className:"registered-container",children:Object(a.jsxs)("p",{children:["Successfully registered.",Object(a.jsx)("br",{}),"Please log in."]})})]}),Object(a.jsxs)("div",{className:"content-container",children:[Object(a.jsxs)("div",{className:"heading",children:[Object(a.jsx)("h1",{children:"Task List"}),Object(a.jsxs)("p",{children:["Welcome ","name"in n?(z=n.name,z.charAt(0).toUpperCase()+z.slice(1)):"Guest. Please login or register."]})]}),"taskList"in n&&Object(a.jsxs)("div",{className:"content",children:[Object(a.jsxs)("form",{className:"add-task-main",children:[Object(a.jsx)("input",{onChange:function(e){return B(e.target.value)},placeholder:"task...",name:"task",value:P}),Object(a.jsx)("input",{onChange:function(e){return q(e.target.value)},placeholder:"desc...",name:"desc",value:W}),Object(a.jsx)("button",{onClick:function(e){return function(e,t){if(e.preventDefault(),P.length>0){var a=n,c={taskTitle:P,taskDesc:W,id:Math.floor(1e4*Math.random())};a.taskList.push(c),s(a),u.a.put("/api/posts/change",n).then((function(e){console.log(e.data),B(""),q("")})).catch((function(e){console.log(e)}))}}(e,n._id)},className:"button",children:"Add task"})]}),Object(a.jsx)("div",{className:"task-container",children:n.taskList.map((function(e){return Object(a.jsxs)("div",{className:"task",children:[Object(a.jsx)("h3",{children:e.taskTitle}),Object(a.jsx)("p",{children:e.taskDesc}),Object(a.jsx)("button",{onClick:function(){return function(e,t){var a=n,c=a.taskList.map((function(e){return e.id})).indexOf(t);a.taskList.splice(c,1),s(a),u.a.put("/api/posts/removeTask",n).then((function(e){console.log(e.data),j(l+1)})).catch((function(e){console.log(e)}))}(n._id,e.id)},children:"Remove"})]})}))})]})]})]})};r.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(j,{})}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.7b602537.chunk.js.map