{"version":3,"sources":["App.js","index.js"],"names":["App","useState","name","age","userData","setUserData","renderCounter","setRenderCounter","email","setEmail","password","setPassword","regName","setRegName","regEmail","setRegEmail","regPassword","setRegPassword","taskTitle","setTaskTitle","taskDesc","setTaskDesc","useEffect","getId","token","axios","get","headers","then","res","id","data","_id","console","log","catch","error","className","onChange","e","target","value","placeholder","onClick","preventDefault","details","post","response","payload","newUserData","taskData","Math","floor","random","taskList","push","put","err","addTask","map","task","userId","taskId","removeIndex","item","indexOf","splice","removeTask","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b6675341.chunk.js","sourcesContent":["import {useState, useEffect} from 'react';\nimport './App.css';\nimport axios from 'axios';\n\nfunction App() {\n  const [userData, setUserData] = useState({name: 'bill', age: '12'});\n  const [renderCounter, setRenderCounter] = useState(0);\n  //login\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  //Register\n  const [regName, setRegName] = useState('');\n  const [regEmail, setRegEmail] = useState('');\n  const [regPassword, setRegPassword] = useState('');\n  //Add task\n  const [taskTitle, setTaskTitle] = useState('');\n  const [taskDesc, setTaskDesc] = useState('');\n\n  useEffect(() => {\n  }, [userData]);\n\n  const numGen = () => {\n    return Math.floor(Math.random() * 10000);\n  }\n\n  const getData = (id) => {\n    axios.get('./api/posts/' + id)\n    .then((res) => {\n      console.log(res.data[0]);\n      setUserData(res.data[0])\n    })\n    .catch((error) => {\n      console.error(\"meh \" + error)\n    })\n  }\n\n\n  const getId = (token) => {\n    axios.get('./api/posts', {\n      headers: {\n        'auth-token': token\n      }\n    })\n    .then((res) => {\n      getData(res.data._id);\n      console.log(res.data._id);\n    })\n    .catch((error) => {\n      console.error(\"Oh no \" + error)\n    })\n  }\n  //Login existing user - pass\n  const login = (e) => {\n    e.preventDefault();\n    const details = {\n      email: email,\n      password: password\n    }\n    axios.post('/api/user/login', details)\n    .then(function (response) {\n      getId(response.headers[\"auth-token\"]);\n    })\n  }\n  //Register new user\n  const register = (e) => {\n    e.preventDefault();\n    const payload = {\n      name: regName,\n      email: regEmail,\n      password: regPassword\n    }\n    axios.post('/api/user/register', payload);\n  }\n\n\n  const toggleView = () => {\n    console.log(userData);  \n  }\n  //Add task to taskList object in user document\n  const addTask = (e, id) => {\n    e.preventDefault();\n    const newUserData = userData;\n    const taskData = {\n      \"taskTitle\": taskTitle,\n      \"taskDesc\": taskDesc,\n      \"id\": numGen()\n    }\n    newUserData.taskList.push(taskData);\n    setUserData(newUserData);\n    axios.put(\"/api/posts/change\", userData)\n    .then((res) => {\n      console.log(res.data);\n      setRenderCounter(renderCounter + 1);      \n    })\n    .catch((err) => {\n      console.log(err);\n    })\n  }\n  //Remove task from taskList\n  const removeTask = (userId, taskId) => {\n    const newUserData = userData;\n    var removeIndex = newUserData.taskList.map(function(item) { return item.id; }).indexOf(taskId);\n    newUserData.taskList.splice(removeIndex, 1);\n    setUserData(newUserData);\n    axios.put(\"/api/posts/removeTask\", userData)\n    .then((res) => {\n      console.log(res.data);      \n    })\n    .catch((err) => {\n      console.log(err);\n    })\n  }\n\n  return (\n    <div className=\"app\">\n      {/* LOGIN */}\n      <div className=\"login-container\">\n        <form className=\"input-main\">\n          <input onChange={(e) => setEmail(e.target.value)} placeholder=\"email...\" name=\"email\" value={email}></input>\n          <input onChange={(e) => setPassword(e.target.value)} placeholder=\"password...\" name=\"password\" value={password}></input>\n          <button onClick={login} className=\"button\">Login</button>\n        </form>\n      </div>\n      {/* REGISTER */}\n      <div className=\"register-container\">\n        <form className=\"input-main\">\n          <input onChange={(e) => setRegName(e.target.value)} placeholder=\"name...\" name=\"name\" value={regName}></input>\n          <input onChange={(e) => setRegEmail(e.target.value)} placeholder=\"email...\" name=\"email\" value={regEmail}></input>\n          <input onChange={(e) => setRegPassword(e.target.value)} placeholder=\"password...\" name=\"password\" value={regPassword}></input>\n          <button onClick={register} className=\"button\">Register</button>\n        </form>\n      </div>\n      {/* CONTENT */}\n      <div className=\"content-container\">\n        <div className=\"heading\">\n          <h1>Task List</h1>\n        </div>\n        <div className=\"content\">\n          <form className=\"input-main\">\n            <input onChange={(e) => setTaskTitle(e.target.value)} placeholder=\"task...\" name=\"task\" value={taskTitle}></input>\n            <input onChange={(e) => setTaskDesc(e.target.value)} placeholder=\"desc...\" name=\"desc\" value={taskDesc}></input>\n            <button onClick={(e, ) => addTask(e, userData._id)} className=\"button\">Add task</button>\n          </form>\n          <h1>{userData.name}</h1>\n          {('taskList' in userData) && userData.taskList.map(task =>\n            <div>\n              <p>{task.taskTitle}</p>\n              <button onClick={() => removeTask(userData._id, task.id)}>Remove</button>\n            </div>  \n          )}\n        </div>\n        <button onClick={toggleView}>View data</button>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}